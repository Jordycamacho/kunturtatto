<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:insert="~{user/templateUser.html :: header}">
    <title th:text="${pageTitle} + ' - KunturTattoo'">KunturTattoo</title>
</head>

<body>
    <div th:insert="~{user/templateUser.html::nav_user}"></div>

    <section class="home section" id="home">
        <img src="../images/tatto-banner.png" alt="home image" class="home__bg">
        <div class="home__shadow"></div>

        <div class="home__container container grid">
            <div class="home__data">
                <h3 class="home__subtitle">
                    KunturTattoo
                </h3>
                <h1 class="home__title" th:text="${pageTitle}">
                    Explora Nuestro diseño
                </h1>
            </div>

            <!-- Menú principal de categorías -->
            <div class="wrapper">
                <nav>
                    <div class="items">
                        <a th:href="@{/KunturTattoo/diseños}" class="item"
                            th:classappend="${selectedCategoryId == null} ? 'active' : ''">
                            Todos
                        </a>

                        <a th:each="category : ${categories}"
                            th:href="@{/KunturTattoo/diseños(categoryId=${category.id})}" th:text="${category.name}"
                            class="item" th:classappend="${selectedCategoryId == category.id} ? 'active' : ''">
                        </a>
                    </div>
                </nav>
            </div>

            <div th:if="${selectedCategoryId != null}" class="wrapper mt-3">
                <nav>
                    <div class="items">
                        <a th:href="@{/KunturTattoo/diseños(categoryId=${selectedCategoryId})}" class="item"
                            th:classappend="${selectedSubCategoryId == null} ? 'active' : ''">
                            Todas
                        </a>

                        <a th:each="subcategory : ${currentSubCategories}"
                            th:href="@{/KunturTattoo/diseños(categoryId=${selectedCategoryId}, subCategoryId=${subcategory.id})}"
                            th:text="${subcategory.name}" class="item"
                            th:classappend="${selectedSubCategoryId == subcategory.id} ? 'active' : ''">
                        </a>
                    </div>
                </nav>
            </div>
        </div>
    </section>

    <!-- Gallery -->
    <div class="gallery">
        <div th:if="${designs.empty}">
            <div class="alert alert-info text-center">
                No se encontraron diseños para esta categoría.
            </div>
        </div>

        <div class="image" th:each="design : ${designs}">
            <a th:href="@{/KunturTattoo/diseno/{id}(id=${design.id})}">
                <span>
                    <img th:src="@{/images/{imageName}(imageName=${design.image})}" th:alt="${design.title}"
                        class="design-image">
                </span>
            </a>
        </div>
    </div>

    <div th:insert="~{user/templateUser.html::footer}"></div>
    <div th:insert="~{user/templateUser.html::script}"></div>
</body>

</html>